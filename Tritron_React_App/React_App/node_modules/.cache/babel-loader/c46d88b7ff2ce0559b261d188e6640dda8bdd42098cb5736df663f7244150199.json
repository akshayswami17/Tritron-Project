{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../CSS Files/AddModel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddModel=()=>{const[brands,setBrands]=useState([]);const[categories,setCategories]=useState([]);const[selectedBrand,setSelectedBrand]=useState('');const[selectedCategory,setSelectedCategory]=useState('');const[modelName,setModelName]=useState('');const[basePrice,setBasePrice]=useState('');const[description,setDescription]=useState('');const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const[requiredMessage,setRequiredMessage]=useState('');useEffect(()=>{fetch('http://localhost:8080/getAllBrands').then(response=>response.json()).then(data=>setBrands(data)).catch(error=>console.error('Error fetching brands:',error));},[]);useEffect(()=>{fetch('http://localhost:8080/getAllCategories').then(response=>response.json()).then(data=>setCategories(data)).catch(error=>console.error('Error fetching categories:',error));},[]);const handleSave=()=>{if(!selectedBrand||!selectedCategory||!modelName||!basePrice||!description){setRequiredMessage('All fields are required');return;}fetch(\"http://localhost:8080/addModel\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({brandId:parseInt(selectedBrand),categoryId:parseInt(selectedCategory),modelName:modelName,basePrice:parseInt(basePrice),description:description})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{setSuccessMessage('Model saved successfully');setErrorMessage('');setRequiredMessage('');console.log('Model saved successfully:',data);}).catch(error=>{setErrorMessage('Error saving model. Please try again.');setSuccessMessage('');setRequiredMessage('');console.error('Error saving model:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-model-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"add-model-heading\",children:\"Add Model\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errorMessage}),requiredMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",children:requiredMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"brand\",className:\"form-label\",children:\"Select Brand:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"brand\",name:\"brand\",value:selectedBrand,onChange:e=>setSelectedBrand(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Brand\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand.brand_id,children:brand.brand_name},brand.brand_id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"form-label\",children:\"Select Category:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"category\",name:\"category\",value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.categoryId,children:category.category_Name},category.categoryId))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"modelName\",children:\"Model Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"modelName\",className:\"form-control\",value:modelName,onChange:e=>setModelName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"basePrice\",children:\"Base Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"basePrice\",className:\"form-control\",value:basePrice,onChange:e=>setBasePrice(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",className:\"form-control\",value:description,onChange:e=>setDescription(e.target.value)})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-btn-outline-primary-model\",onClick:handleSave,children:\"Save\"})]});};export default AddModel;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AddModel","brands","setBrands","categories","setCategories","selectedBrand","setSelectedBrand","selectedCategory","setSelectedCategory","modelName","setModelName","basePrice","setBasePrice","description","setDescription","successMessage","setSuccessMessage","errorMessage","setErrorMessage","requiredMessage","setRequiredMessage","fetch","then","response","json","data","catch","error","console","handleSave","method","headers","body","JSON","stringify","brandId","parseInt","categoryId","ok","Error","log","className","children","htmlFor","id","name","value","onChange","e","target","required","map","brand","brand_id","brand_name","category","category_Name","type","onClick"],"sources":["A:/Tritron Project/Tritron_React_App/React_App/src/components/AddModel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../CSS Files/AddModel.css';\r\n\r\nconst AddModel = () => {\r\n  const [brands, setBrands] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedBrand, setSelectedBrand] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [modelName, setModelName] = useState('');\r\n  const [basePrice, setBasePrice] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [requiredMessage, setRequiredMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/getAllBrands')\r\n      .then(response => response.json())\r\n      .then(data => setBrands(data))\r\n      .catch(error => console.error('Error fetching brands:', error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/getAllCategories')\r\n      .then(response => response.json())\r\n      .then(data => setCategories(data))\r\n      .catch(error => console.error('Error fetching categories:', error));\r\n  }, []);\r\n\r\n  const handleSave = () => {\r\n    if (!selectedBrand || !selectedCategory || !modelName || !basePrice || !description) {\r\n      setRequiredMessage('All fields are required');\r\n      return;\r\n    }\r\n\r\n    fetch(\"http://localhost:8080/addModel\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        brandId: parseInt(selectedBrand),\r\n        categoryId: parseInt(selectedCategory),\r\n        modelName: modelName,\r\n        basePrice: parseInt(basePrice),\r\n        description: description\r\n      }),\r\n    })\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error('Network response was not ok');\r\n      }\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      setSuccessMessage('Model saved successfully');\r\n      setErrorMessage('');\r\n      setRequiredMessage('');\r\n      console.log('Model saved successfully:', data);\r\n    })\r\n    .catch(error => {\r\n      setErrorMessage('Error saving model. Please try again.');\r\n      setSuccessMessage('');\r\n      setRequiredMessage('');\r\n      console.error('Error saving model:', error);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-model-container\">\r\n      <h2 className=\"add-model-heading\">Add Model</h2>\r\n      {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\r\n      {errorMessage && <div className=\"alert alert-danger\">{errorMessage}</div>}\r\n      {requiredMessage && <div className=\"alert alert-warning\">{requiredMessage}</div>}\r\n      \r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"brand\" className=\"form-label\">Select Brand:</label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"brand\"\r\n            name=\"brand\"\r\n            value={selectedBrand}\r\n            onChange={(e) => setSelectedBrand(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">Select Brand</option>\r\n            {brands.map(brand => (\r\n              <option key={brand.brand_id} value={brand.brand_id}>{brand.brand_name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"category\" className=\"form-label\">Select Category:</label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"category\"\r\n            name=\"category\"\r\n            value={selectedCategory}\r\n            onChange={(e) => setSelectedCategory(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">Select Category</option>\r\n            {categories.map(category => (\r\n              <option key={category.categoryId} value={category.categoryId}>{category.category_Name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"modelName\">Model Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"modelName\"\r\n            className=\"form-control\"\r\n            value={modelName}\r\n            onChange={e => setModelName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"basePrice\">Base Price:</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"basePrice\"\r\n            className=\"form-control\"\r\n            value={basePrice}\r\n            onChange={e => setBasePrice(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"description\">Description:</label>\r\n          <textarea\r\n            id=\"description\"\r\n            className=\"form-control\"\r\n            value={description}\r\n            onChange={e => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button className=\"btn-btn-outline-primary-model\" onClick={handleSave}>Save</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddModel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}