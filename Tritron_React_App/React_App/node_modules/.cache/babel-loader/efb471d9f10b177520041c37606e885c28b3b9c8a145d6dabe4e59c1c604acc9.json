{"ast":null,"code":"import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"../CSS Files/UpdatePass.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdatePass(){const[msg,setMsg]=useState(\"\");//updated\nconst[user,setUser]=useState(\"\");//state for username\nconst[oldpass,setOldPass]=useState(\"\");//old password\nconst[newpass,setNewPass]=useState(\"\");//new password\nconst nav=useNavigate();const udpateFun=e=>{e.preventDefault();const reqOption={method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({// username:user,\nusername:localStorage.getItem(\"user\"),oldpassword:oldpass,newpassword:newpass})};fetch(\"http://localhost:9000/update\",reqOption).then(resp=>resp.text()).then(data=>{setMsg(data);});};// if(msg==\"updated\")\n// nav(\"/login\")\nconst handleReset=()=>{setUser(\"\");setOldPass(\"\");setNewPass(\"\");setMsg(\"\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"update-password-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:UpdatePass,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"form-control\",placeholder:\"Enter username\"// value={user}\n,value:localStorage.getItem(\"user\"),onChange:e=>setUser(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"oldPassword\",className:\"form-label\",children:\"Old Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"oldPassword\",className:\"form-control\",placeholder:\"Enter old password\",value:oldpass,onChange:e=>setOldPass(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",className:\"form-label\",children:\"New Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"newPassword\",className:\"form-control\",placeholder:\"Enter new password\",value:newpass,onChange:e=>setNewPass(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:udpateFun,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleReset,children:\"Reset\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:msg})]})})});}","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","UpdatePass","msg","setMsg","user","setUser","oldpass","setOldPass","newpass","setNewPass","nav","udpateFun","e","preventDefault","reqOption","method","headers","body","JSON","stringify","username","localStorage","getItem","oldpassword","newpassword","fetch","then","resp","text","data","handleReset","children","className","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","required","onClick"],"sources":["A:/Tritron Project/Tritron_React_App/React_App/src/components/UpdatePass.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../CSS Files/UpdatePass.css\";\r\nexport default function UpdatePass() {\r\n  const [msg, setMsg] = useState(\"\"); //updated\r\n  const [user, setUser] = useState(\"\"); //state for username\r\n  const [oldpass, setOldPass] = useState(\"\"); //old password\r\n  const [newpass, setNewPass] = useState(\"\"); //new password\r\n  const nav = useNavigate();\r\n  const udpateFun = (e) => {\r\n    e.preventDefault();\r\n    const reqOption = {\r\n      method: \"PUT\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        // username:user,\r\n        username: localStorage.getItem(\"user\"),\r\n        oldpassword: oldpass,\r\n        newpassword: newpass,\r\n      }),\r\n    };\r\n    fetch(\"http://localhost:9000/update\", reqOption)\r\n      .then((resp) => resp.text())\r\n      .then((data) => {\r\n        setMsg(data);\r\n      });\r\n  };\r\n  // if(msg==\"updated\")\r\n  // nav(\"/login\")\r\n\r\n  const handleReset = () => {\r\n    setUser(\"\");\r\n    setOldPass(\"\");\r\n    setNewPass(\"\");\r\n    setMsg(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"update-password-form\">\r\n        <form onSubmit={UpdatePass}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"username\" className=\"form-label\">\r\n              Username:\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter username\"\r\n              // value={user}\r\n              value={localStorage.getItem(\"user\")}\r\n              onChange={(e) => setUser(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"oldPassword\" className=\"form-label\">\r\n              Old Password:\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"oldPassword\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter old password\"\r\n              value={oldpass}\r\n              onChange={(e) => setOldPass(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"newPassword\" className=\"form-label\">\r\n              New Password:\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"newPassword\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter new password\"\r\n              value={newpass}\r\n              onChange={(e) => setNewPass(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"d-grid gap-2\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              onClick={udpateFun}\r\n            >\r\n              Update\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              onClick={handleReset}\r\n            >\r\n              Reset\r\n            </button>\r\n          </div>\r\n          <p className=\"mt-3\">{msg}</p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}